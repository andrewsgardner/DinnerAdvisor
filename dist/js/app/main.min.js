requirejs.config({baseUrl:"./js/app",paths:{jquery:"../lib/jquery-3.2.1",knockout:"../lib/knockout-3.4.2",bootstrap:"../lib/bootstrap-3.3.7"},shim:{ko:{exports:["ko"]},jquery:{exports:["$"]},bootstrap:{deps:["jquery"]}}}),define(["knockout","jquery","bootstrap"],function(e,i){"use strict";i.getJSON("/recipes",function(e){t.recipes(e)});var t=new function(){var t=this;t.recipes=e.observableArray(),t.recipeInputDishName=e.observable(),t.recipeInputCookTime=e.observable(),t.recipeInputCuisineType=e.observable(),t.recipeInputHealthRating=e.observable(),t.recipeInputSubmitterName=e.observable(),t.recipeInputContent=e.observable(),t.selectedRecipes=e.observableArray(),t.isUpdate=e.observable(!1),t.updateId=e.observable(),t.canEdit=e.computed(function(){return t.selectedRecipes().length>0}),t.addRecipe=function(){var e=i("#dishName").val(),c=i("#cookTime").val(),s=i("#cuisineType").val(),n=i("#healthRating").val(),o=i("#submitterName").val(),a=i("#recipeContent").val();t.recipes.push({dishName:e,cookTime:c,cuisineType:s,healthRating:n,submitterName:o,recipeContent:a}),i.ajax({url:"/recipes",data:JSON.stringify({dishName:e,cookTime:c,cuisineType:s,healthRating:n,submitterName:o,recipeContent:a}),type:"POST",contentType:"application/json",success:function(e){console.log("Recipe added...")},error:function(e,i,t){console.log(t)}})},t.updateRecipe=function(){var e=t.updateId,c=i("#dishName").val(),s=i("#cookTime").val(),n=i("#cuisineType").val(),o=i("#healthRating").val(),a=i("#submitterName").val(),p=i("#recipeContent").val();t.recipes.remove(function(i){return i._id==e}),t.recipes.push({dishName:c,cookTime:s,cuisineType:n,healthRating:o,submitterName:a,recipeContent:p}),i.ajax({url:"/recipes/"+e,data:JSON.stringify({dishName:c,cookTime:s,cuisineType:n,healthRating:o,submitterName:a,recipeContent:p}),type:"PUT",contentType:"application/json",success:function(e){console.log("Recipe updated...")},error:function(e,i,t){console.log(t)}})},t.editFirstSelected=function(){t.updateId=t.selectedRecipes()[0]._id;var e=t.selectedRecipes()[0].dishName,i=t.selectedRecipes()[0].cookTime,c=t.selectedRecipes()[0].cuisineType,s=t.selectedRecipes()[0].healthRating,n=t.selectedRecipes()[0].submitterName,o=t.selectedRecipes()[0].recipeContent;t.isUpdate(!0),t.recipeInputDishName(e),t.recipeInputCookTime(i),t.recipeInputCuisineType(c),t.recipeInputHealthRating(s),t.recipeInputSubmitterName(n),t.recipeInputContent(o)},t.deleteSelectedRecipes=function(){i.each(t.selectedRecipes(),function(e,c){var s=t.selectedRecipes()[e]._id;i.ajax({url:"/recipes/"+s,type:"DELETE",async:!0,timeout:1e4,success:function(e){console.log("Recipe removed...")},error:function(e,i,t){console.log(t)}})}),t.recipes.removeAll(t.selectedRecipes()),t.selectedRecipes.removeAll()},t.healthRatingScale=e.observableArray(["1","2","3","4","5"])};e.applyBindings(t)});